<% unless @teacher_schedule.in_reserved_state? %>
    <script>
        window.location = '<%= teacher_teacher_schedules_path(@teacher) %>';
    </script>
<% else %>
<div class='row'>
  <div class='col-md-12'>
    <%= render :partial => 'state_bar' %>
  </div>
</div>
<% if @teacher_schedule.can_update? %>
    <div class='row'>
      <div class='col-md-12'>
        <h3>Last Update <small><%= @teacher_schedule.last_update %></small></h3>
        <div class = 'row'>
          <div class='col-md-12'>
            <table class='table table-bordered'>
              <tr>
                <td width='20%'><strong> Updated By </strong></td>
                <td>
                  <%= @teacher_schedule.last_updated_by_user.fullname rescue ' ' %>
                </td>
              </tr>
              <tr>
                <td><strong> Updated At </strong></td>
                <td><%= @teacher_schedule.last_updated_at.strftime('%d %B %Y (%I:%M%P)') rescue ' ' %></td>
              </tr>
              <tr>
                <td><strong> Comments </strong></td>
                <td><%= @teacher_schedule.comments %></td>
              </tr>
              <tr>
            </table>
          </div>
        </div>
      </div>
    </div>
<% end %>

<div class = 'row'>
  <div class='col-md-12'>
    <h3>Details</h3>
    <table class='table table-bordered'>
      <tr>
        <td width='20%'><strong>ID #</strong></td>
        <td><%= @teacher_schedule.id %></td>
      </tr>
      <tr>
        <td><strong>Start Date</strong></td>
        <td><%= @teacher_schedule.start_date.strftime('%d %B %Y') %></td>
      </tr>
      <tr>
        <td><strong>End Date</strong></td>
        <td><%= @teacher_schedule.end_date.strftime('%d %B %Y') %></td>
      </tr>
      <tr>
        <td><strong>Center (s)</strong></td>
        <td><%= (@teacher_schedule.centers.map {|c| c[:name]}).join(", ") rescue '' %></td>
      </tr>
      <tr>
        <td><strong>Comments</strong></td>
        <td><%= @teacher_schedule.comments %></td>
      </tr>
    </table>
  </div>
</div>
<% end %>
