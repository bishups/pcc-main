<% if @blockable_programs.count > 0 %>
    <% blockable_programs = @blockable_programs.map {|x| x[:program]}  %>
    $('#programs_select').html("<%= escape_javascript(options_for_select(blockable_programs.map{|p| [p.friendly_name, p.id]})) %>");
    $('#program_timings_label').html("<%= escape_javascript(@selected_program.blank? ? "" : @selected_program.display_timings) %>");
    $('#programs_select').prop('disabled', false)
    <% timings =  @selected_timings %>
    $('#timing_ids_select').html("<%= escape_javascript(options_for_select(timings.map {|e| [e.name, e.id]})) %>");
    $('#timings_select').prop('disabled', false)
    $('#submit_button').prop('disabled', false)
<% else %>
    $('#programs_select').html("<%= escape_javascript(options_for_select(['None Available'])) %>");
    $('#programs_select').prop('disabled', true)
    $('#timing_ids_select').html("<%= escape_javascript(options_for_select([''])) %>");
    $('#timings_select').prop('disabled', true)
    $('#submit_button').prop('disabled', true)
<% end %>
<% if @hide_timings %>
    $("#timings").hide();
<% else %>
    $("#timings").show();
<% end %>
$('#blockable_timing_ids_hidden').val("<%= @blockable_timing_ids %>");


